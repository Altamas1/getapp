<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="google-site-verification" content="itEGE4bAYj1ePlgXvJKdiS7Cu-UNduWJzKs3aA0snyE" />
  <title>My APK Downloader</title>
  <meta name="description" content="Download safe and fast APK files for your favorite apps.">
  <meta name="keywords" content="APK, download, android apps, free apps">
  <meta name="robots" content="index, follow">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>APK Hub â€” Safe Downloads</title>
  <meta name="description" content="Publish your own APKs or link to official developer mirrors. Clean, mobile-first design." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="assets/logo.svg">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="/">
        <img src="apks/IMG_20250831_151514.png" alt="APK Hub" class="logo" />
        <span>GeatApp</span>
      </a>
      <nav class="nav">
        <a href="#apps">Apps</a>
        <a href="#about">About</a>
        <button id="open-terms" class="btn btn-ghost">Terms</button>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <h1>Download Smarter, Faster ðŸš€ <span class="accent">APKs</span></h1>
        <p class="sub">Get your favorite apps with just one click. Safe, fast, and simple </p>
        <div class="searchbar">
          <input id="search" type="search" placeholder="Search appsâ€¦" aria-label="Search apps" />
          <select id="sort">
            <option value="name">Sort: Name</option>
            <option value="updated">Sort: Last Updated</option>
            <option value="size">Sort: Size</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Apps Section (JSON generated) -->
    <section id="apps" class="container grid"></section>

    <section id="about" class="container about">
      <h2>About</h2>
      <p>
        Welcome to GeatApp â€“ your trusted place for downloading apps safely and easily.
        Our mission is to make app downloading simple, secure, and hassle-free.
      <li>âœ… Fast downloads without unnecessary steps</li>
      <li>âœ… Safe files that are checked before publishing</li>
      <li>âœ… User-friendly design so you can quickly find what you need</li>
      <li>ðŸš€ Always growing with new apps and features</li>
      </p>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>Â© <span id="year"></span> Geat App. All rights reserved.</p>
      <div class="links">
        <button id="open-terms-footer" class="linkish">Terms & Disclaimer</button>
      </div>
    </div>
  </footer>

  <!-- Terms Modal -->
  <dialog id="terms" class="modal">
    <form method="dialog" class="modal-card">
      <h3>Terms & Disclaimer</h3>
      <div class="modal-body">
        <p>
          This site is provided for distributing the ownerâ€™s apps or linking to official mirrors only.
          By proceeding, you confirm you will not host or link to copyrighted or untrusted APKs.
        </p>
        <ul>
          <li>No piracy. Respect developer licenses.</li>
          <li>Verify checksums. Install at your own risk.</li>
          <li>We donâ€™t collect personal data.</li>
        </ul>
      </div>
      <div class="modal-actions">
        <button value="cancel" class="btn btn-ghost">Close</button>
        <button id="accept-terms" class="btn">I Understand</button>
      </div>
    </form>
  </dialog>

  <!-- App Card Template -->
  <template id="app-card">
    <article class="card">
      <div class="card-left">
        <img class="app-icon" alt="App icon" />
      </div>
      <div class="card-right">
        <div class="card-head">
          <h3 class="app-name"></h3>
          <span class="badge app-version"></span>
        </div>
        <p class="app-desc"></p>
        <div class="meta">
          <span class="chip size"></span>
          <span class="chip updated"></span>
          <span class="chip sdk"></span>
        </div>
        <div class="actions">
          <a class="btn download" target="_blank" rel="noopener noreferrer">Get APK</a>
          <button class="btn btn-ghost copy-hash" data-hash="">Copy SHA-256</button>
        </div>
      </div>
    </article>
  </template>

  <!-- Scripts -->
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    let appsData = []; // store full apps.json

    async function loadApps() {
      try {
        const res = await fetch("apps.json");
        appsData = await res.json();
        renderApps(appsData);
      } catch (err) {
        console.error("Failed to load apps.json", err);
      }
    }

    function renderApps(apps) {
      const container = document.getElementById("apps");
      const template = document.getElementById("app-card");
      container.innerHTML = ""; // clear old

      apps.forEach(app => {
        const clone = template.content.cloneNode(true);
        clone.querySelector(".app-icon").src = app.icon;
        clone.querySelector(".app-name").textContent = app.name;
        clone.querySelector(".app-version").textContent = app.version;
        clone.querySelector(".app-desc").textContent = app.description || "No description available.";
        clone.querySelector(".size").textContent = "ðŸ“¦ " + app.size;
        clone.querySelector(".updated").textContent = "ðŸ—“ " + app.updated;
        clone.querySelector(".sdk").textContent = "ðŸ”§ SDK " + app.sdk;

        // correct fields from apps.json
        clone.querySelector(".download").href = app.file;
        clone.querySelector(".copy-hash").setAttribute("data-hash", app.hash);

        // copy hash
        clone.querySelector(".copy-hash").addEventListener("click", () => {
          navigator.clipboard.writeText(app.hash || "N/A");
          alert("Hash copied: " + (app.hash || "N/A"));
        });

        container.appendChild(clone);
      });
    }

    // search + sort logic
    document.getElementById("search").addEventListener("input", function() {
      const q = this.value.toLowerCase();
      const filtered = appsData.filter(app => app.name.toLowerCase().includes(q));
      renderApps(filtered);
    });

    document.getElementById("sort").addEventListener("change", function() {
      const value = this.value;
      let sorted = [...appsData];

      if (value === "name") {
        sorted.sort((a, b) => a.name.localeCompare(b.name));
      } else if (value === "updated") {
        sorted.sort((a, b) => new Date(b.updated) - new Date(a.updated));
      } else if (value === "size") {
        // assumes size in MB
        sorted.sort((a, b) => parseFloat(a.size) - parseFloat(b.size));
      }
      renderApps(sorted);
    });

    loadApps();
  </script>
</body>
</html>